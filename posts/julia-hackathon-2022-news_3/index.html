<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Language" content="en">
  <meta name="color-scheme" content="light dark">

  

  <meta name="author" content="GPU4GEO">
  <meta name="description" content="GPU4GEO project website">
  <meta name="keywords" content="GPU,Earth-sciences,Supercomputing">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="GPU4GEO">
  <meta name="twitter:description" content="GPU4GEO project website">

  <meta property="og:title" content="summary">
  <meta property="og:description" content="GPU4GEO project website">
  <meta property="og:type" content="website">

  <title>GPU4GEO</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
  <link rel="stylesheet" href="/GPU4GEO/css/coder.min.css" media="screen">
  <link rel="stylesheet" href="/GPU4GEO/css/coder-dark.min.css" media="screen">
  <link rel="stylesheet" href="/GPU4GEO/css/my_style.css" media="screen">

  <link rel="icon" type="image/png" href="/GPU4GEO/assets/images/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/GPU4GEO/assets/images/favicon-16x16.png" sizes="16x16">

  <link rel="apple-touch-icon" href="/GPU4GEO/assets/images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/GPU4GEO/assets/images/apple-touch-icon.png">

  
  <meta name="generator" content="Franklin.jl" />

  

  
    <link rel="stylesheet" href="/GPU4GEO/libs/highlight/github.min.css">
  

  <style>
  :root {
    --block-background: #f4f0ec;
  }
  .hljs {
    padding: 1em;
  }
  </style>

</head>

<body class="preload-transitions colorscheme-auto">

  <div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
      <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
  </div>

  <main class="wrapper ">

  <main class="wrapper">

    <nav class="navigation">
  <section class="container">

    <a class="navigation-title" href="/GPU4GEO/">
      GPU4GEO
    </a>

    <input type="checkbox" id="menu-toggle">
    <label class="menu-button float-right" for="menu-toggle">
      <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
    </label>

    <ul class="navigation-list">
      
        <li class="navigation-item">
          <a class="navigation-link" href="/GPU4GEO/project/">Project</a>
        </li>
      
        <li class="navigation-item">
          <a class="navigation-link" href="/GPU4GEO/posts/">News</a>
        </li>
      
        <li class="navigation-item">
          <a class="navigation-link" href="/GPU4GEO/software/">Software</a>
        </li>
      
        <li class="navigation-item">
          <a class="navigation-link" href="/GPU4GEO/team/">Team</a>
        </li>
      
        <li class="navigation-item">
          <a class="navigation-link" href="/GPU4GEO/publications/">Publications</a>
        </li>
      

      
      
    </ul>

  </section>
</nav>


    <div class="content">

        
        <section class="container post">
          <header>
  <div class="post-title">
    <h1 class="title">
      <a class="title-link" href="/GPU4GEO/posts/julia-hackathon-2022-news_3/index.html">
        Julia hackathon 2022 - ROCm (AMDGPU) MPI
      </a>
    </h1>
  </div>

  <div class="post-meta">
    
      <div class="date">
        <span class="posted-on">
          <i class="fa fa-calendar" aria-hidden="true"></i>
          <time datetime='2022-04-11'>
            April 11, 2022
          </time>
        </span>

        
          <span class="reading-time">
            <i class="fa fa-clock-o" aria-hidden="true"></i>
            2-minute read
          </span>
        
      </div>
    

    
      <div class="tags">
        <i class="fa fa-tag" aria-hidden="true"></i>
        <span class="tag"><a href="/GPU4GEO/tags/activities/">activities</a></span><span class="separator">â€¢</span><span class="tag"><a href="/GPU4GEO/tags/julia/">julia</a></span><span class="separator">â€¢</span><span class="tag"><a href="/GPU4GEO/tags/coding/">coding</a></span>
      </div>
    
    </div>
  </header>


       
       
       
<p>We held our first Hackathon on April 4-8 in Schwarzwald, focussing on a wide range of Julia topics.</p>
<h2 id="rocm_(amdgpu)_mpi" > ROCm (AMDGPU) MPI<a class="heading-link" href="#rocm_(amdgpu)_mpi">
  <i class="fa fa-link" aria-hidden="true"></i>
</a>
</h2><p><em>Ludovic RÃ¤ss</em></p>
<img src="../../assets/images/rocmawarempi.png" alt="3D viscous Stokes solution" width="400"><p>Majority of the most powerful and next generation of supercomputers host either Nvidia or AMD graphical processing units (GPUs), commonly known as accelerators. Being able to efficiently utilise thousands of these GPUs in parallel is therefore crucial to sustain petascale and exascale computing workflows in scientific simulations.</p>
<p>Important is also to be able to leverage both Nvidia and AMD devices without having to change a single line of code, making a decisive design step in a concept commonly referred to as (backend) portability. Backend portability (and thus associated performance portability) is one of the key points we aim to achieve within the <a href="https://www.pasc-ch.org/projects/2021-2024/gpu4geo/">PASC funded GPU4GEO</a> project, using the <a href="https://julialang.org">Julia language</a>.</p>
<p><strong>We are excited to announce that <a href="https://github.com/eth-cscs/ImplicitGlobalGrid.jl">ImplicitGlobalGrid.jl</a> now supports ROCm (-aware) MPI, including <a href="https://github.com/JuliaGPU/AMDGPU.jl">AMDGPU.jl</a> as backend ðŸš€, besides <a href="https://github.com/JuliaGPU/CUDA.jl">CUDA.jl</a> (Nvidia GPUs) and (multi-threaded) CPU support.</strong></p>
<p>To succeed, following changes where required  (to be merged soon and released)</p>
<ul>
<li><strong>ImplicitGlobalGrid.jl</strong>: AMDGPU (<code>ROCArray</code>) support, automatic backend detection</li>
<li><strong>AMDGPU.jl</strong>: adding memory pool API for correct device (and associated device memory) selection, adding <code>unsafe_wrap</code> functionality, <a href="https://github.com/JuliaGPU/AMDGPU.jl/pull/220/commits/ee8f4b6e1fc3b34b9a09540626508226e6363249">adding async memcpy functionality</a></li>
<li><strong>MPI.jl</strong>: adding <code>ROCArray</code> support for ROCm-aware MPI</li>
</ul>
<p><a href="https://github.com/luraess/ROCm-MPI/blob/main/README.md">This repository</a> contains the sandbox project using ROCm (-aware) MPI to compute 2D diffusion on 4 MAD MI50 GPUs at <a href="https://www.cscs.ch">CSCS</a>'s test system. The non-ROCm-aware runs were also successfully performed by Thibault Duretz on the Goethe HLR AMD cluster, University of Frankfurt.</p>
<p>Thanks to Julian Samaroo (MIT), Valentin Churavy (MIT), Samuel Omlin (CSCS) and Ivan Utkin (ETHZ) for their valuable help and insights on this topic. </p>


      </section>
    </div>

    <footer class="footer">
      <section class="container">
        Â© 2022 GPU4GEO Â· Powered by
  <a href="https://franklin.jl">Franklin.jl</a> &
  <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
      </section>
    </footer>

  </main>

  

  
    <script src="/GPU4GEO/libs/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>
  

<script src="/GPU4GEO/libs/coder.min.js"></script>

</body>
</html>
